{"title":"服务器安装Redis和配置后台远程连接","uid":"f5cb41ad6b8fe76e1bcc157a340542d5","slug":"BlogRepository/服务器/服务器安装Redis和配置后台远程连接","date":"2022-02-24T00:48:55.000Z","updated":"2023-04-20T13:57:44.632Z","comments":true,"path":"api/articles/BlogRepository/服务器/服务器安装Redis和配置后台远程连接.json","keywords":null,"cover":"https://cover.png","content":"<h1 id=\"1-官网下载\"><a href=\"#1-官网下载\" class=\"headerlink\" title=\"1. 官网下载\"></a>1. <a href=\"https://redis.io/\">官网</a>下载</h1><p><img src=\"http://img.fan223.cn/2023/04/20230419200722.png\"></p>\n<p>选择对应的版本进行下载</p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419200737.png\"></p>\n<p>下载完成后上传到服务器上</p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419200751.png\"></p>\n<p>解压文件，<code>tar -zxvf redis-6.2.7.tar.gz</code></p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419200808.png\"></p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419200819.png\"></p>\n<h1 id=\"2-安装\"><a href=\"#2-安装\" class=\"headerlink\" title=\"2. 安装\"></a>2. 安装</h1><h2 id=\"2-1-环境\"><a href=\"#2-1-环境\" class=\"headerlink\" title=\"2.1 环境\"></a>2.1 环境</h2><p>安装 Redis 需要 C 语言的编译环境，先测试 gcc 版本，<code>gcc --version</code></p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419200833.png\"></p>\n<p>没有环境的需要进行安装，<code>yum install gcc-c++</code></p>\n<h2 id=\"2-2-编译\"><a href=\"#2-2-编译\" class=\"headerlink\" title=\"2.2 编译\"></a>2.2 编译</h2><p>进入解压好的 Redis 文件夹，执行 make 命令进行编译，<code>make</code></p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419200849.png\"></p>\n<p>假如没有准备好 C 语言编译环境，make 会报错，<code>—Jemalloc/jemalloc.h：没有那个文件</code></p>\n<p>准备好环境后需要运行 <code>make distclean</code> 进行清空，然后再次执行 <code>make</code> 命令</p>\n<h2 id=\"2-3-安装\"><a href=\"#2-3-安装\" class=\"headerlink\" title=\"2.3 安装\"></a>2.3 安装</h2><p>跳过 make test 直接执行 <code>make install</code>，默认安装目录：<code>/usr/local/bin</code></p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419200908.png\"></p>\n<p>指定安装路径可以使用 <code>make PREFIX=/usr/java/redis/redis-6.2.7 install</code></p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419200923.png\"></p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419200933.png\"></p>\n<ul>\n<li>redis-benchmark：性能测试工具，可以查看性能</li>\n<li>redis-check-aof：修复有问题的 AOF 文件</li>\n<li>redis-check-dump：修复有问题的 dump.rdb 文件</li>\n<li>redis-sentinel：Redis 集群使用</li>\n<li>redis-server：Redis 服务器启动命令</li>\n<li>redis-cli：客户端，操作入口</li>\n</ul>\n<h1 id=\"3-修改配置文件（后台远程连接）\"><a href=\"#3-修改配置文件（后台远程连接）\" class=\"headerlink\" title=\"3. 修改配置文件（后台远程连接）\"></a>3. 修改配置文件（后台远程连接）</h1><p>进入 Redis 解压的目录，编辑 redis.conf 文件</p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419200945.png\"></p>\n<h2 id=\"3-1-后台启动\"><a href=\"#3-1-后台启动\" class=\"headerlink\" title=\"3.1 后台启动\"></a>3.1 后台启动</h2><p>后台启动设置 <code>daemonize</code>，将 no 改成 yes</p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419200956.png\"></p>\n<h2 id=\"3-2-远程连接\"><a href=\"#3-2-远程连接\" class=\"headerlink\" title=\"3.2 远程连接\"></a>3.2 远程连接</h2><ol>\n<li>注释， <code>#bind 127.0.0.1 -::1</code><br><img src=\"http://img.fan223.cn/2023/04/20230419201007.png\"></li>\n<li>将 <code>protected-mode</code> 改为 no<br><img src=\"http://img.fan223.cn/2023/04/20230419201016.png\"></li>\n<li>设置密码，<code>requirepass</code><br><img src=\"http://img.fan223.cn/2023/04/20230419201026.png\"></li>\n</ol>\n<p><strong>然后通过服务器 IP 地址、端口、以及设置的密码进行连接</strong></p>\n<h2 id=\"3-3-设置日志文件位置\"><a href=\"#3-3-设置日志文件位置\" class=\"headerlink\" title=\"3.3 设置日志文件位置\"></a>3.3 设置日志文件位置</h2><p>在 redis.conf 同级目录下创建 redis-log.log 文件，并在 redis.conf 里配置日志文件的位置，<code>logfile</code></p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419201039.png\"></p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419201049.png\"></p>\n<h1 id=\"4-启动和关闭\"><a href=\"#4-启动和关闭\" class=\"headerlink\" title=\"4. 启动和关闭\"></a>4. 启动和关闭</h1><h2 id=\"4-1-启动\"><a href=\"#4-1-启动\" class=\"headerlink\" title=\"4.1 启动\"></a>4.1 启动</h2><p>进入 Redis 安装目录，执行 <code>./redis-server /usr/java/redis/redis-6.2.7/redis.conf</code>，通过修改后的配置文件启动，并且会在后台运行</p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419201100.png\"></p>\n<p>可以通过密码用客户端访问，<code>./redis-cli -h IP地址 -p 6379（端口） -a 密码</code></p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419201113.png\"></p>\n<p>测试验证</p>\n<p><img src=\"http://img.fan223.cn/2023/04/20230419201124.png\"></p>\n<h2 id=\"4-2-关闭\"><a href=\"#4-2-关闭\" class=\"headerlink\" title=\"4.2 关闭\"></a>4.2 关闭</h2><ul>\n<li>单实例关闭：<code>redis-cli shutdown</code></li>\n<li>也可以进入客户端后关闭：<code>shutdown</code><br><img src=\"http://img.fan223.cn/2023/04/20230419201135.png\"></li>\n<li>多实例关闭，指定端口关闭：<code>redis-cli -p 6379 shutdown</code></li>\n<li>或者直接杀死 Redis 的进程号来关闭，查看进程号：<code>ps -ef | grep redis</code><br><img src=\"http://img.fan223.cn/2023/04/20230419201146.png\"><br>使用 kill 命令杀死进程：<code>kill -9 进程号</code><br><img src=\"http://img.fan223.cn/2023/04/20230419201157.png\"></li>\n</ul>\n","feature":false,"text":"1. 官网下载 选择对应的版本进行下载 下载完成后上传到服务器上 解压文件，tar -zxvf redis-6.2.7.tar.gz 2. 安装2.1 环境安装 Redis 需要 C 语言的编译环境，先测试 gcc 版本，gcc --version 没有环境的需要进行安装，yum...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"服务器","slug":"服务器","count":4,"path":"api/categories/服务器.json"}],"tags":[{"name":"Redis","slug":"Redis","count":5,"path":"api/tags/Redis.json"},{"name":"服务器","slug":"服务器","count":5,"path":"api/tags/服务器.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1-%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD\"><span class=\"toc-text\">1. 官网下载</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#2-%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">2. 安装</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-1-%E7%8E%AF%E5%A2%83\"><span class=\"toc-text\">2.1 环境</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-2-%E7%BC%96%E8%AF%91\"><span class=\"toc-text\">2.2 编译</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-3-%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">2.3 安装</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#3-%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%88%E5%90%8E%E5%8F%B0%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%EF%BC%89\"><span class=\"toc-text\">3. 修改配置文件（后台远程连接）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-1-%E5%90%8E%E5%8F%B0%E5%90%AF%E5%8A%A8\"><span class=\"toc-text\">3.1 后台启动</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-2-%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">3.2 远程连接</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-3-%E8%AE%BE%E7%BD%AE%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE\"><span class=\"toc-text\">3.3 设置日志文件位置</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#4-%E5%90%AF%E5%8A%A8%E5%92%8C%E5%85%B3%E9%97%AD\"><span class=\"toc-text\">4. 启动和关闭</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-1-%E5%90%AF%E5%8A%A8\"><span class=\"toc-text\">4.1 启动</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-2-%E5%85%B3%E9%97%AD\"><span class=\"toc-text\">4.2 关闭</span></a></li></ol></li></ol>","author":{"name":"凡","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"https://github.com/Fan223","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/7318914058","zhihu":"https://www.zhihu.com/people/tridiamond","csdn":"https://blog.csdn.net/ACE_U_005A","juejin":"https://juejin.cn/user/1873223546578589","customs":{}}},"mapped":true,"prev_post":{"title":"Redis 6总结（1）","uid":"56daa6f6e65f7cd942daf401bb41ead5","slug":"BlogRepository/Redis/Redis 6总结（1）","date":"2022-02-24T01:12:39.000Z","updated":"2023-04-20T13:57:44.601Z","comments":true,"path":"api/articles/BlogRepository/Redis/Redis 6总结（1）.json","keywords":null,"cover":"https://cover.png","text":"1. NoSQL 数据库简介1.1 技术发展技术的分类： 解决功能性的问题：Java、Jsp、RDBMS、Tomcat、HTML、Linux、JDBC、SVN 解决扩展性的问题：Struts、Spring、SpringMVC、Hibernate、Mybatis 解决性能的问题：N...","link":"","photos":[],"count_time":{"symbolsCount":"15k","symbolsTime":"14 mins."},"categories":[{"name":"Redis","slug":"Redis","count":3,"path":"api/categories/Redis.json"}],"tags":[{"name":"Redis","slug":"Redis","count":5,"path":"api/tags/Redis.json"}],"author":{"name":"凡","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"https://github.com/Fan223","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/7318914058","zhihu":"https://www.zhihu.com/people/tridiamond","csdn":"https://blog.csdn.net/ACE_U_005A","juejin":"https://juejin.cn/user/1873223546578589","customs":{}}},"feature":false},"next_post":{"title":"VSCode下载安装和修改插件下载位置（配置右键菜单）及配置Java环境和更换终端","uid":"5ba2b1d9fbead41813249a5bdde7870e","slug":"BlogRepository/开发工具及环境/VSCode下载安装和修改插件下载位置（配置右键菜单）","date":"2022-02-12T19:28:53.000Z","updated":"2023-04-20T13:57:44.632Z","comments":true,"path":"api/articles/BlogRepository/开发工具及环境/VSCode下载安装和修改插件下载位置（配置右键菜单）.json","keywords":null,"cover":"https://cover.png","text":"1. 下载1、 进入官网 2、点击 Download 进入下载页面 下载需要的版本 下载 ZIP 免安装版可以省略下面安装和修改插件位置步骤，只需在安装目录中创建 data 文件夹即可，使用过程中的插件及用户数据都会保存到这个文件夹，可以直接进行 3.3 右键菜单的配置 2. 安...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"开发工具及环境","slug":"开发工具及环境","count":11,"path":"api/categories/开发工具及环境.json"}],"tags":[{"name":"Java","slug":"Java","count":12,"path":"api/tags/Java.json"},{"name":"VSCode","slug":"VSCode","count":2,"path":"api/tags/VSCode.json"},{"name":"编辑器","slug":"编辑器","count":2,"path":"api/tags/编辑器.json"}],"author":{"name":"凡","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"https://github.com/Fan223","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/7318914058","zhihu":"https://www.zhihu.com/people/tridiamond","csdn":"https://blog.csdn.net/ACE_U_005A","juejin":"https://juejin.cn/user/1873223546578589","customs":{}}},"feature":false}}