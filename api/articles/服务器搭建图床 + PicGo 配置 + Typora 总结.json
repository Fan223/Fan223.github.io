{"title":"","uid":"f73a8e23e6f6f669cf99c7dba8fa0722","slug":"服务器搭建图床 + PicGo 配置 + Typora 总结","date":"2023-03-14T14:26:38.602Z","updated":"2023-03-14T14:24:33.096Z","comments":true,"path":"api/articles/服务器搭建图床 + PicGo 配置 + Typora 总结.json","keywords":null,"cover":[],"content":"<h1 id=\"1-前言\"><a href=\"#1-前言\" class=\"headerlink\" title=\"1. 前言\"></a>1. 前言</h1><p>之前用的都是 CSDN 图床，首先本来也会发到 CSDN 上，顺便在自己的网站上也能访问，而且也方便。但最近加了防盗链，全挂了，也因此想自己搭建一个图床</p>\n<p>免费图床总归是不靠谱的，所以选择一个付费的好一点，市面上常用的有阿里云 OSS、腾讯云 COS、七牛云等。阿里云 OSS 存储，每个月有 5 GB 的免费存储和流量额度；腾讯云 COS 存储有 6 个月的免费 50 GB 存储额度；七牛云有一定容量的永久免费额度</p>\n<p>但是用过后个人总感觉有一定的条件限制，虽然有免费额度，但是后续的存储容量、流量、请求数都要计费，不过阿里云好像不达到一定金额不会算，腾讯云不清楚，虽然作为个人博客而言，价格也不会很高，但自己本身已经有服务器，因此想在自己的服务器上搭一个图床，也方便管理和转移</p>\n<h1 id=\"2-服务器搭建图床\"><a href=\"#2-服务器搭建图床\" class=\"headerlink\" title=\"2. 服务器搭建图床\"></a>2. 服务器搭建图床</h1><h2 id=\"2-1-安装-Nginx\"><a href=\"#2-1-安装-Nginx\" class=\"headerlink\" title=\"2.1 安装 Nginx\"></a>2.1 <a href=\"https://blog.csdn.net/ACE_U_005A/article/details/122767405\">安装 Nginx</a></h2><p><strong>见另一篇博客：<a href=\"https://blog.csdn.net/ACE_U_005A/article/details/122767405\">轻量应用服务器使用总结</a></strong></p>\n<h2 id=\"2-2-部署配置\"><a href=\"#2-2-部署配置\" class=\"headerlink\" title=\"2.2 部署配置\"></a>2.2 部署配置</h2><p>1、先创建一个文件夹，用于存储图片，这里我的路径为 <code>/usr/java/blog-images</code></p>\n<p><img src=\"http://image.fan223.cn/2023/03/202303141717296.png\" alt=\"image-20230314171728274\"></p>\n<p>2、添加一条域名解析记录，主要为了方便管理和查看，后续以 image.xxx.cn 作为图床地址，没有域名跳过这步，后续直接使用服务器 IP 也可以</p>\n<p><img src=\"http://image.fan223.cn/2023/03/202303141719416.png\" alt=\"image-20230314171908392\"></p>\n<p>3、进入 Nginx 的 conf 目录，编辑 Nginx 的配置文件</p>\n<p><img src=\"http://image.fan223.cn/2023/03/202303141718516.png\" alt=\"image-20230314171821488\"></p>\n<p>4、添加一个 Server 配置，server_name 为上面添加的域名解析记录，root 为上面创建的文件夹路径，注意这里使用相对路径，以 Nginx 安装路径为起始路径</p>\n<p><img src=\"http://image.fan223.cn/2023/03/202303141721209.png\" alt=\"image-20230314172102185\"></p>\n<p>5、然后启动 Nginx，这里在前面的安装 Nginx 博客里有说到，这里不再赘述</p>\n<p>6、此时可以上传一张图片到上面创建的 blog-images 文件夹下，通过 <code>域名/图片名</code> 即可访问</p>\n<h1 id=\"3-PicGo\"><a href=\"#3-PicGo\" class=\"headerlink\" title=\"3. PicGo\"></a>3. PicGo</h1><h2 id=\"3-1-下载\"><a href=\"#3-1-下载\" class=\"headerlink\" title=\"3.1 下载\"></a>3.1 <a href=\"https://github.com/Molunerfinn/PicGo/releases\">下载</a></h2><p><strong>GitHub 下载地址：<a href=\"https://github.com/Molunerfinn/PicGo/releases\">Releases · Molunerfinn&#x2F;PicGo (github.com)</a></strong></p>\n<p><img src=\"http://image.fan223.cn/2023/03/202303142118580.png\"></p>\n<h2 id=\"3-2-安装\"><a href=\"#3-2-安装\" class=\"headerlink\" title=\"3.2 安装\"></a>3.2 安装</h2><p>1、双击打开 exe 文件，选择安装用户</p>\n<p><img src=\"http://image.fan223.cn/2023/03/202303142118581.png\"></p>\n<p>2、选择安装路径</p>\n<p><img src=\"http://image.fan223.cn/2023/03/202303142118582.png\"></p>\n<p>3、安装完成</p>\n<h2 id=\"3-3-使用\"><a href=\"#3-3-使用\" class=\"headerlink\" title=\"3.3 使用\"></a>3.3 使用</h2><p>1、下载插件 <code>picgo-plugin-sftp-uploader</code></p>\n<p><img src=\"http://image.fan223.cn/2023/03/20230314215615.png\"></p>\n<p>2、SFTP 配置</p>\n<ul>\n<li>图床配置名：随意定义</li>\n<li>网站标识：随意定义</li>\n<li>配置文件：为 SFTP 配置文件的路径</li>\n</ul>\n<p><img src=\"http://image.fan223.cn/2023/03/20230314215903.png\"></p>\n<p>3、SFTP 配置文件，在上面的路径下创建对应文件</p>\n<p><strong>详细可见官方配置说明：<a href=\"https://github.com/imba97/picgo-plugin-sftp-uploader\">imba97&#x2F;picgo-plugin-sftp-uploader</a></strong></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\">&#123;\n    &#x2F;&#x2F; 网站标识\n\t&quot;Fan&quot;: &#123;\n        &#x2F;&#x2F; 图片网站的域名\n\t\t&quot;url&quot;: &quot;http:&#x2F;&#x2F;image.xxx.cn&quot;,\n        &#x2F;&#x2F; 图片在网址中的路径，即网站根目录下的路径，这里我的网站根目录就是 blog-images\n\t\t&quot;path&quot;: &quot;&#x2F;&#123;year&#125;&#x2F;&#123;month&#125;&#x2F;&#123;fullName&#125;&quot;,\n         &#x2F;&#x2F; 图片在服务器的真实路径\n\t\t&quot;uploadPath&quot;: &quot;&#x2F;usr&#x2F;java&#x2F;blog-images&#x2F;&#123;year&#125;&#x2F;&#123;month&#125;&#x2F;&#123;fullName&#125;&quot;,\n        &#x2F;&#x2F; 一般是服务器 IP\n\t\t&quot;host&quot;: &quot;124.xxx.xxx.90&quot;,\n        &#x2F;&#x2F; 端口\n\t\t&quot;port&quot;: 22,\n        &#x2F;&#x2F; SSH 用户登录用户\n\t\t&quot;username&quot;: &quot;username&quot;,\n        &#x2F;&#x2F; SSH 用户登录密码\n\t\t&quot;password&quot;: &quot;password&quot;\n\t&#125;\n&#125;</code></pre>\n\n<p>4、上传文件，选择 SFTP 上传</p>\n<p><img src=\"http://image.fan223.cn/2023/03/20230314220712.png\"></p>\n<p>5、即可在服务器看到上传的文件，文件夹为配置文件配置的路径</p>\n<p><img src=\"http://image.fan223.cn/2023/03/20230314220736.png\"></p>\n<p>6、同时浏览器也可进行访问</p>\n<p><img src=\"http://image.fan223.cn/2023/03/20230314220905.png\"></p>\n<h1 id=\"4-Typora\"><a href=\"#4-Typora\" class=\"headerlink\" title=\"4. Typora\"></a>4. Typora</h1><p>在 Typora 的设置里找到图像选项，选择插入图片时上传图片，然后上传服务选择 PicGo，同时选择本地安装的 PicGo.exe 文件</p>\n<p><img src=\"http://image.fan223.cn/2023/03/20230314221045.png\"></p>\n<p>这样在 Typora 插入图片时即可自动上传到服务器上</p>\n<h1 id=\"5-优点\"><a href=\"#5-优点\" class=\"headerlink\" title=\"5. 优点\"></a>5. 优点</h1><p>之前使用 OSS 存储时还有一个问题就是，无法直接转存到 CSDN 上，会提示外链转存失败。假如要显示的话只能使用 <code>&lt;img&gt;</code> 格式来引用图片，十分不方便。使用服务器图床就没有这个问题，可以直接转存到 CSDN 上</p>\n","feature":true,"text":"1. 前言之前用的都是 CSDN 图床，首先本来也会发到 CSDN 上，顺便在自己的网站上也能访问，而且也方便。但最近加了防盗链，全挂了，也因此想自己搭建一个图床 免费图床总归是不靠谱的，所以选择一个付费的好一点，市面上常用的有阿里云 OSS、腾讯云 COS、七牛云等。阿里云 O...","link":"","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1-%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">1. 前言</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#2-%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A\"><span class=\"toc-text\">2. 服务器搭建图床</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-1-%E5%AE%89%E8%A3%85-Nginx\"><span class=\"toc-text\">2.1 安装 Nginx</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-2-%E9%83%A8%E7%BD%B2%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">2.2 部署配置</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#3-PicGo\"><span class=\"toc-text\">3. PicGo</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-1-%E4%B8%8B%E8%BD%BD\"><span class=\"toc-text\">3.1 下载</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-2-%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">3.2 安装</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-3-%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">3.3 使用</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#4-Typora\"><span class=\"toc-text\">4. Typora</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#5-%E4%BC%98%E7%82%B9\"><span class=\"toc-text\">5. 优点</span></a></li></ol>","author":{"name":"凡","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"https://github.com/Fan223","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/7318914058","zhihu":"https://www.zhihu.com/people/tridiamond","csdn":"https://blog.csdn.net/ACE_U_005A","juejin":"https://juejin.cn/user/1873223546578589","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"Spring Security 总结","uid":"84bebe9cd32f64471707a2ec9d7cecfe","slug":"BlogRepository/Spring/Spring Security 总结","date":"2022-03-15T09:18:25.000Z","updated":"2023-03-13T19:13:04.940Z","comments":true,"path":"api/articles/BlogRepository/Spring/Spring Security 总结.json","keywords":null,"cover":"https://cover.png","text":"1. 概要1.1 名词概念1.1.1 主体（principal）使用系统的用户或设备或从其他系统远程登录的用户等等。简单说就是谁使用系统谁就是主体 1.1.2 认证（authentication）权限管理系统确认一个主体的身份，允许主体进入系统。简单说就是“主体”证明自己是谁。笼...","link":"","photos":[],"count_time":{"symbolsCount":"108k","symbolsTime":"1:38"},"categories":[{"name":"Spring","slug":"Spring","count":6,"path":"api/categories/Spring.json"}],"tags":[{"name":"Spring","slug":"Spring","count":8,"path":"api/tags/Spring.json"}],"author":{"name":"凡","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"https://github.com/Fan223","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/7318914058","zhihu":"https://www.zhihu.com/people/tridiamond","csdn":"https://blog.csdn.net/ACE_U_005A","juejin":"https://juejin.cn/user/1873223546578589","customs":{}}},"feature":true}}